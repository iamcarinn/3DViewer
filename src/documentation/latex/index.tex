\chapter{3DViewer\+\_\+v1.0}
\hypertarget{index}{}\label{index}\index{3DViewer\_v1.0@{3DViewer\_v1.0}}
\label{index_md_documentation_2REPORT}%
\Hypertarget{index_md_documentation_2REPORT}%

\begin{DoxyItemize}
\item {\bfseries{В данном проекте была реализована на языке программирования Си программа для просмотра 3D моделей в каркасном виде (3D Viewer). Сами модели необходимо загружать из файлов формата .obj и иметь возможность просматривать их на экране с возможностью вращения, масштабирования и перемещения.}}
\end{DoxyItemize}\hypertarget{index_autotoc_md1}{}\doxysection{\texorpdfstring{Information}{Information}}\label{index_autotoc_md1}
Каркасная модель -\/ модель объекта в трёхмерной графике, представляющая собой совокупность вершин и рёбер, которая определяет форму отображаемого многогранного объекта в трехмерном пространстве.\hypertarget{index_autotoc_md2}{}\doxysubsection{\texorpdfstring{Формат представления описаний трехмерных объектов .\+obj}{Формат представления описаний трехмерных объектов .obj}}\label{index_autotoc_md2}
Файлы .obj -\/ это формат файла описания геометрии, впервые разработанный компанией Wavefront Technologies. Формат файла открыт и принят многими поставщиками приложений для 3D-\/графики.

Формат файла .obj -\/ это простой формат данных, который представляет только трехмерную геометрию, а именно положение каждой \doxylink{struct_xD0_xB2_xD0_xB5_xD1_x80_xD1_x88_xD0_xB8_xD0_xBD_xD1_x8B}{вершины}, положение UV координат текстуры каждой \doxylink{struct_xD0_xB2_xD0_xB5_xD1_x80_xD1_x88_xD0_xB8_xD0_xBD_xD1_x8B}{вершины}, нормали вершин и грани, которые определяют каждый многоугольник как список вершин и вершин текстуры. Координаты obj не имеют единиц измерения, но файлы obj могут содержать информацию о масштабе в удобочитаемой строке комментариев.

Пример файла формата .obj\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Список\ вершин,\ с\ координатами\ (x,\ y,\ z[,\ w]),\ w\ является\ не\ обязательным\ и\ по\ умолчанию\ равен\ 1.0}
\DoxyCodeLine{v\ 0.123\ 0.234\ 0.345\ 1.0}
\DoxyCodeLine{v\ ...}
\DoxyCodeLine{...}
\DoxyCodeLine{\#\ Текстурные\ координаты\ (u,\ v[,\ w]),\ w\ является\ не\ обязательным\ и\ по\ умолчанию\ 0}
\DoxyCodeLine{vt\ 0.500\ -\/1.352\ [0.234]}
\DoxyCodeLine{vt\ ...}
\DoxyCodeLine{...}
\DoxyCodeLine{\#\ Нормали\ (x,\ y,\ z)}
\DoxyCodeLine{vn\ 0.707\ 0.000\ 0.707}
\DoxyCodeLine{vn\ ...}
\DoxyCodeLine{...}
\DoxyCodeLine{\#\ Параметры\ вершин\ в\ пространстве\ (u[,\ v][,\ w])}
\DoxyCodeLine{vp\ 0.310000\ 3.210000\ 2.100000}
\DoxyCodeLine{vp\ ...}
\DoxyCodeLine{...}
\DoxyCodeLine{\#\ Определения\ поверхности\ (сторон)}
\DoxyCodeLine{f\ v1\ v2\ v3}
\DoxyCodeLine{f\ ...}
\DoxyCodeLine{...}
\DoxyCodeLine{\#\ Группа}
\DoxyCodeLine{g\ Group1}
\DoxyCodeLine{...}
\DoxyCodeLine{\#\ Объект}
\DoxyCodeLine{o\ Object1}

\end{DoxyCode}
\hypertarget{index_autotoc_md3}{}\doxysubsection{\texorpdfstring{Аффинные преобразования}{Аффинные преобразования}}\label{index_autotoc_md3}
Аффинное преобразование -\/ отображение плоскости или пространства в себя, при котором параллельные прямые переходят в параллельные прямые, пересекающиеся — в пересекающиеся, скрещивающиеся — в скрещивающиеся. \textbackslash{} Преобразование плоскости называется аффинным если оно взаимно однозначно и образом любой прямой является прямая. Преобразование (отображение) называется взаимно однозначным (биективным), если оно переводит разные точки в разные, и в каждую точку переходит какая-\/то точка.

С алгебраической точки зрения аффинное преобразование это преобразование вида\+: {\itshape f(x) = M \texorpdfstring{$\ast$}{*} x + v}, где {\itshape M} -\/ некая обратимая матрица, а {\itshape v} -\/ какое-\/то значение.

Свойства аффинных преобразований\+:
\begin{DoxyItemize}
\item Композиция аффинных преобразований есть снова аффинное преобразование.
\item Преобразование, обратное к аффинному, есть снова аффинное преобразование.
\item Отношение площадей сохраняется.
\item Отношение длин отрезков на прямой сохраняется.
\end{DoxyItemize}\hypertarget{index_autotoc_md4}{}\doxysubsubsection{\texorpdfstring{Перемещение}{Перемещение}}\label{index_autotoc_md4}
Матрица перемещения в однородных двумерных координатах\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{1\ 0\ a}
\DoxyCodeLine{0\ 1\ b}
\DoxyCodeLine{0\ 0\ 1}

\end{DoxyCode}


где {\itshape a} и {\itshape b} -\/ величины по {\itshape x} и {\itshape y}, на которые необходимо переместить исходную точку. Таким образом, чтобы переместить точку необходимо умножить матрицу перемещения на нее\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{x1\ \ \ \ \ 1\ 0\ a\ \ \ \ \ x\ }
\DoxyCodeLine{y1\ \ =\ \ 0\ 1\ b\ \ *\ \ y}
\DoxyCodeLine{1\ \ \ \ \ \ 0\ 0\ 1\ \ \ \ \ 1}

\end{DoxyCode}


где {\itshape x} и {\itshape y} -\/ исходные координаты точки, а {\itshape x1} и {\itshape y1} -\/ полученные координаты новой точки после перемещения.\hypertarget{index_autotoc_md5}{}\doxysubsubsection{\texorpdfstring{Поворот}{Поворот}}\label{index_autotoc_md5}
Матрица поворота по часовой стрелке в однородных двумерных координатах\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{cos(a)\ \ sin(a)\ 0}
\DoxyCodeLine{-\/sin(a)\ cos(a)\ 0}
\DoxyCodeLine{0\ \ \ \ \ \ \ 0\ \ \ \ \ \ 1}

\end{DoxyCode}


где {\itshape a} -\/ угол поворота в двумерном пространстве. Для получения координат новой точки необходимо также, как и матрицу перемещения, перемножить матрицу поворота на исходную точку\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{x1\ \ \ \ \ cos(a)\ \ sin(a)\ 0\ \ \ \ \ x\ }
\DoxyCodeLine{y1\ \ =\ \ -\/sin(a)\ cos(a)\ 0\ \ *\ \ y}
\DoxyCodeLine{1\ \ \ \ \ \ 0\ \ \ \ \ \ \ 0\ \ \ \ \ \ 1\ \ \ \ \ 1}

\end{DoxyCode}
\hypertarget{index_autotoc_md6}{}\doxysubsubsection{\texorpdfstring{Масштабирование}{Масштабирование}}\label{index_autotoc_md6}
Матрица масштабирования в однородных двумерных координатах\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{a\ 0\ 0}
\DoxyCodeLine{0\ b\ 0}
\DoxyCodeLine{0\ 0\ 1}

\end{DoxyCode}


где {\itshape a} и {\itshape b} -\/ коэффициенты масштабирования соответственно по осям OX и OY. Получение координат новой точки происходит аналогично описанным выше случаям.\hypertarget{index_autotoc_md7}{}\doxysection{\texorpdfstring{Руководство пользователя}{Руководство пользователя}}\label{index_autotoc_md7}
\hypertarget{index_autotoc_md8}{}\doxysubsection{\texorpdfstring{Загрузка объектного файла}{Загрузка объектного файла}}\label{index_autotoc_md8}
Реализованы два варианта загрузки объектного файла\+:


\begin{DoxyEnumerate}
\item В левом верхнем углу отображается файловый менеджер, который позволяет удобно с помощью графического интерфейса выбрать необходимый объектный файл. После выбора в поле ввода отображает результирующий путь до файла из корневой директори.
\item Также есть возможность прописать путь до файла самостоятельно в поле ввода, которое расположено ниже файлового менеджера
\end{DoxyEnumerate}

Далее необходимо нажать на кнопку "{}\+Load file"{} для последующей загрузки выбранного файла в программу. В поле справа будет выведен результат вывода 3D-\/модели, геометрия которой прописана в загруженном ранее файле.\hypertarget{index_autotoc_md9}{}\doxysubsection{\texorpdfstring{Работа с цветом}{Работа с цветом}}\label{index_autotoc_md9}
При первом выводе программа выводит модель в цветах, заданных по умолчанию. Но помимо этого реализована возможность замены цветов.

При нажатии на следующие кнопки открывается модальное окно с цветовым кругом, на котором есть возможность задать цвет фону, точкам вершин, линиям, соединяющим точки\+:


\begin{DoxyItemize}
\item кнопка "{}\+Background"{} -\/ выбор цвета фона;
\item кнопка "{}\+Dot"{} -\/ выбор цвета точек;
\item кнопка "{}\+Line"{} -\/ выбор цвета линий, соединяющих точки.
\end{DoxyItemize}

Справа от кнопок отображается текущий выбранный цвет.\hypertarget{index_autotoc_md10}{}\doxysubsection{\texorpdfstring{Вращение, смещение и изменение масштаба модели}{Вращение, смещение и изменение масштаба модели}}\label{index_autotoc_md10}
Слева от таблицы по вертикали отображены значения строк, x, y, z, а сверху по горизонтали значения столбцов "{}\+Rotate"{} (рус. вращение), "{}\+Move"{} (рус. перемещение), "{}\+Scale"{} (рус. масштаб). С помощью активации чекбокса в соответствующих колонке и столбце таблицы и перемещении ползунка реализована возможность вращения модели вокруг выбранной оси, смещение относительно центра окна просмотра, изменение масштаба.\hypertarget{index_autotoc_md11}{}\doxysubsection{\texorpdfstring{Изменение параметров видимости точек}{Изменение параметров видимости точек}}\label{index_autotoc_md11}
Слева от таблицы по вертикали отображено значение строк, "{}\+Dot"{} (рус. точки), а сверху по горизонтали значения столбцов "{}\+Square"{} (рус. квадрат), "{}\+Circle"{} (рус. круг), "{}\+None"{} (рус. ничто). С помощью активации чекбокса в соответствующем столбце таблицы реализована возможность изменения вида отображаемых точек (в виде квадратов, кругов и позрачных точек).\hypertarget{index_autotoc_md12}{}\doxysubsection{\texorpdfstring{Изменение параметров видимости линий соединения точей}{Изменение параметров видимости линий соединения точей}}\label{index_autotoc_md12}
Слева от таблицы по вертикали отображены значение строк, "{}\+Line"{} (рус. линии), а сверху по горизонтали значения столбцов "{}\+Solid"{} (рус. сплошной), "{}\+Dashed"{} (рус. пунктирный), "{}\+None"{} (рус. ничто). С помощью активации чекбокса в соответствующем столбце таблицы реализована возможность изменения вида отображаемых линий (в виде сплошных линий, пунктирных и позрачных).\hypertarget{index_autotoc_md13}{}\doxysubsection{\texorpdfstring{Настройки типа проекции}{Настройки типа проекции}}\label{index_autotoc_md13}
С помощью активации необходимого чекбокса, "{}\+Central"{} (рус. центральная) или "{}\+Parallel"{} (рус. параллельная), программа позволяет настраивать тип проекции.\hypertarget{index_autotoc_md14}{}\doxysubsection{\texorpdfstring{Запись}{Запись}}\label{index_autotoc_md14}
Программа позволяет сохранять полученные ("{}отрендеренные"{}) изображения в файл в форматах bmp и jpeg, а также записывать небольшие "{}скринкасты"{} -\/ текущие пользовательские аффинные преобразования загруженного объекта в gif-\/анимацию (640x480, 10fps, 5s). Для этого необходимо выбрать в выпадающем меню желаемый формат файла, а затем нажать на кнопку "{}\+Record"{} (рус. запись) слева от меню.

 